<div class="card border-primary mb-3">
  <div class="card-header">Clientes</div>
  <div class="card-body text-primary">
    <h5 class="card-title">Listado de clientes</h5>
    <div class="text-left my-2">
      <button class="btn btn-rounded btn-primary" [routerLink]="['/clients/form']">Crear Cliente
      </button>
    </div>
    <div *ngIf="clients?.length == 0" class="alert alert-info">
      No hay clientes registrados
    </div>
    <table class="table" *ngIf="clients?.length > 0">
      <thead>
      <tr>
        <th scope="col">id</th>
        <th scope="col">Nombre</th>
        <th scope="col">Apellido</th>
        <th scope="col">email</th>
        <th scope="col">Fecha</th>
        <th>&nbsp;</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let client of clients">
        <th scope="row">{{client.id}}</th>
        <td>{{client.name}}</td>
        <td>{{client.lastName}}</td>
        <td>{{client.email}}</td>
        <td>{{client.createdAt}}</td>
        <td>
          <button class="btn btn-primary" role="button" [routerLink]="['/clients/form', client.id]">
            Editar
          </button>
          <button class="btn btn-danger ml-3" role="button" [swal]="deleteConfirmDialog" >
            Eliminar
          </button>
        </td>
        <swal
          #deleteConfirmDialog
          title="&iquest;Eliminar {{ client.name }} {{ client.lastName}}?"
          text="Esto no se puede deshacer"
          confirmButtonText="Si, eliminar"
          cancelButtonText="No"
          type="warning"
          [showCancelButton]="true"
          [focusCancel]="true"
          (confirm)="deleteClient(client)">
        </swal>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<swal #swalDeleted title="Eliminar cliente" text="El Cliente se eliminÃ³ exitosamente" type="success"></swal>
